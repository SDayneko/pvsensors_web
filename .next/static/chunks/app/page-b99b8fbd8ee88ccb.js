(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3554:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,8173,23)),Promise.resolve().then(a.bind(a,690)),Promise.resolve().then(a.bind(a,4392))},690:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),l=a(2115);let r=()=>{let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(null),c=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/devices"),s=await e.json();s.ports&&s.ports.length>0?(t(s.ports),a&&s.ports.includes(a)||r(s.ports[0])):(t([]),r(null))}catch(e){console.error("Device Detection Error:",e)}},[a]);return(0,l.useEffect)(()=>{let e=setInterval(()=>{c()},2e3);return()=>clearInterval(e)},[c]),(0,s.jsxs)("div",{className:"p-6 bg-gray-900 text-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Teensy LC USB Detection & Firmware Upload"}),e.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-green-500",children:"Teensy LC Devices Detected ✅"}),(0,s.jsxs)("label",{className:"block mt-4",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Select Teensy Device:"}),(0,s.jsx)("select",{className:"mt-1 block w-full bg-gray-800 text-white p-2 rounded",value:a||"",onChange:e=>{r(e.target.value)},children:e.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))})]}),a&&(0,s.jsxs)("p",{className:"text-blue-500 mt-2",children:["Selected Port: ",a]})]}):(0,s.jsx)("p",{className:"text-red-500",children:"No Teensy LC devices detected ❌"})]})}},4392:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),l=a(2115);let r=()=>{let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(null),[c,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(null),o=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),n(!0);let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);t(e),e.length>1?r(e[1].deviceId):1===e.length?r(e[0].deviceId):r(null)}catch(e){console.error("Camera Access Error:",e),d("Error accessing the camera. Please check permissions.")}};return e(),navigator.mediaDevices.addEventListener("devicechange",e),()=>{navigator.mediaDevices.removeEventListener("devicechange",e)}},[]),(0,l.useEffect)(()=>{(async()=>{if(a&&o.current)try{let e=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:a}}});o.current&&(o.current.srcObject=e)}catch(e){console.error("Camera Stream Error:",e),d("Could not access selected camera.")}})()},[a]),(0,s.jsxs)("div",{className:"p-6 bg-gray-900 text-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Integrated Multi-Camera Viewer"}),c?e.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-yellow-400",children:["Auto-selected: ",e[1]?e[1].label:e[0].label]}),(0,s.jsxs)("label",{className:"block mt-2",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Select Camera:"}),(0,s.jsx)("select",{className:"mt-1 block w-full bg-gray-800 text-white p-2 rounded",value:a||"",onChange:e=>r(e.target.value),children:e.map(t=>(0,s.jsx)("option",{value:t.deviceId,children:t.label||"Camera ".concat(e.indexOf(t)+1)},t.deviceId))})]}),(0,s.jsx)("video",{ref:o,autoPlay:!0,playsInline:!0,className:"w-full max-w-lg mt-3 rounded-lg shadow-md"})]}):(0,s.jsx)("p",{className:"text-red-500",children:"No Cameras Detected ❌"}):(0,s.jsx)("p",{className:"text-red-500",children:"Camera Access Denied ❌"}),i&&(0,s.jsx)("p",{className:"text-red-400 mt-2",children:i})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,441,517,358],()=>t(3554)),_N_E=e.O()}]);