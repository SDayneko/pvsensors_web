(()=>{var e={};e.id=14,e.ids=[14],e.modules={6330:e=>{"use strict";e.exports=require("@prisma/client")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},4573:e=>{"use strict";e.exports=require("node:buffer")},7598:e=>{"use strict";e.exports=require("node:crypto")},7975:e=>{"use strict";e.exports=require("node:util")},1648:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>x,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>o,POST:()=>u});var i=t(2706),a=t(8203),n=t(5994);let{GET:o,POST:u}=t(7702).Y9,p=new i.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/Users/sergey/Documents/Programming/029_pvsensors_web/pvsensors_web/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:d,serverHooks:l}=p;function x(){return(0,n.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:d})}},6487:()=>{},8335:()=>{},2706:(e,r,t)=>{"use strict";e.exports=t(4870)},7702:(e,r,t)=>{"use strict";t.d(r,{Jv:()=>w,Y9:()=>x,j2:()=>l});var s=t(691),i=t(7098),a=t(4422),n=t(3352),o=t(5987),u=t(7914),p=t(6814),c=t(3191);let d=(0,p.y)(u.A),{auth:l,handlers:x,signIn:w,signOut:v}=(0,a.Ay)({adapter:d,providers:[o.A,(0,n.A)({credentials:{email:{},password:{}},authorize:async e=>{let r=c.w.parse(e),t=await u.A.user.findFirst({where:{email:r.email,password:r.password}});if(!t)throw Error("Invalid credentials.");return t}})],callbacks:{jwt:async({token:e,account:r})=>(r?.provider==="credentials"&&(e.credentials=!0),e)},jwt:{encode:async function(e){if(e.token?.credentials){let r=(0,s.A)();if(!e.token.sub)throw Error("No user ID found in token");if(!await d?.createSession?.({sessionToken:r,userId:e.token.sub,expires:new Date(Date.now()+30*24*60*60*1e3)}))throw Error("Failed to create session");return r}return(0,i.lF)(e)}}})},7914:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(6330);let i=globalThis.prismaGlobal??new s.PrismaClient},3191:(e,r,t)=>{"use strict";t.d(r,{w:()=>i});var s=t(379);let i=s.z.object({email:s.z.string().email(),password:s.z.string().min(1)})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[680,559],()=>t(1648));module.exports=s})();